<!DOCTYPE html>
<html>
<head>
	<title></title>
	<link rel="canonical" href="https://getbootstrap.com/docs/4.3/examples/blog/">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <!-- Bootstrap core CSS -->
	<!-- <link href="/docs/4.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"> -->
</head>
<body>

	<button id="getData" class="btn btn-primary btn-md">GET DATA FROM API </button>
    <div id="result"></div>
<!--     <div class="row mb-2">
	    <div class="col-md-6">
	      `<div class="row no-gutters border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
	        <div class="col p-4 d-flex flex-column position-static">
	          <strong class="d-inline-block mb-2 text-primary">`+ i.author+`</strong>
	          <h3 class="mb-0">`+ i.title +`</h3>
	          <div class="mb-1 text-muted">`+ i.publishedAt +` at`+ i.source.name + `</div>
	          <p class="card-text mb-auto">`+ i.description+`</p>
	          <a href="`+ i.url+`" class="stretched-link">Continue reading</a>
	        </div>
	        <div class="col-auto d-none d-lg-block">
	          <svg class="bd-placeholder-img" width="200" height="250" xmlns="`+ i.urlToImage +`" preserveAspectRatio="xMidYMid slice" focusable="false" role="img" aria-label="Placeholder: Thumbnail"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"></rect><text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text></svg>
	        </div>
	      </div>`
	    </div>
    </div> -->

<script type="text/javascript">
	document.onreadystatechange = function () {
    if (document.readyState == "interactive") {
        getAPI();
    }
}
	// document.body.addEventListener('onload', getAPI);
	function getAPI(){
		var url = 'https://newsapi.org/v2/top-headlines?' +
          'country=us&' +
          'apiKey=45b0542cd58649ba8e2eb7d9796746f9';
		var req = new Request(url);

		fetch(req)
		    .then(function(response) {
		        return response.json();
		    })
		    .then((data) => {
		    	let articles = data.articles;
		    	let thing = '';
		    	articles.forEach(function(i,v){
	    			thing = thing+`<div class="container">
									<div class="row no-gutters border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
							        <div class="col-8 p-4 d-flex flex-column position-static">
							          <strong class="d-inline-block mb-2 text-primary">`+ i.author+`</strong>
							          <h3 class="mb-0">`+ i.title +`</h3>
							          <div class="mb-1 text-muted">`+ i.publishedAt +` at `+ i.source.name + `</div>
							          <p class="card-text mb-auto">`+ i.description+`</p>
							          <a href="`+ i.url+`" class="stretched-link">Continue reading</a>
							        </div>
							        <div class="col-4 d-none d-lg-block">
							          <img src="`+ i.urlToImage +`" class="img-fluid img-thumbnail">
							        </div>
							        </div>
						        </div>`;

		    	});
		    		document.getElementById('result').innerHTML = thing;
		    });
           
        }
</script>
</body>
</html>